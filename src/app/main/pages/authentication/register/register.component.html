<div class="auth-wrapper auth-v2">
  <div class="auth-inner row m-0">
    <div class="misc-inner d-none d-lg-flex col-lg-6 align-items-center p-5"
      style='width:100%; height:100%; background-image: url("{{foto}}"); background-repeat:no-repeat; background-size:cover; background-position:center center;'>
      <div class="w-100 text-center mb-5">
        <h1 class="mb-1 fondo-negro"><strong>
            <font color="#ffffff">SISTEMA INTEGRADO DE PLACAS DE IDENTIFICACIÓN MILITAR DIGITAL DEL EJÉRCITO BOLIVARIANO
            </font>
          </strong></h1>
        <img class="img-fluid drop" src="assets/images/logo.webp" alt="Login" width="250px" />
      </div>
    </div>

    <!-- Register Form -->
    <div class="d-flex col-lg-6 align-items-center auth-bg px-2 p-lg-5">
      <div class="col-12 col-sm-8 col-md-6 col-lg-12 px-xl-2 mx-auto">
        <h1 class="card-title font-weight-bold mb-1 text-primary" align="center">
          <strong>{{ appName }}</strong>
        </h1>
        <h4>
          <p class="card-text mb-2" align="center">Sistema Integrado de Placas de Identificación Militar Digital</p>
        </h4>

        <ngb-alert [type]="'danger'" [dismissible]="false" *ngIf="error">
          <div class="alert-body">
            <p>{{ error }}</p>
          </div>
        </ngb-alert>




        <form [formGroup]="loginForm">
          <!-- Campo Cédula -->
          <div class="form-group">
            <label class="form-label" for="login-cedula">Cedula de Identidad</label>
            <input type="text" formControlName="cedula" class="form-control"
              [ngClass]="{ 'is-invalid': submitted && loginForm.get('cedula')?.errors }"
              placeholder="Cedula de Usuario">
            <div *ngIf="submitted && loginForm.get('cedula')?.errors" class="invalid-feedback">
              <div *ngIf="loginForm.get('cedula')?.hasError('required')">Cedula es requerido</div>
            </div>
          </div>

          <!-- Campo Email -->
          <div class="form-group">
            <label class="form-label" for="login-email">Correo Electronico</label>
            <input type="email" formControlName="email" class="form-control"
              [ngClass]="{ 'is-invalid': submitted && loginForm.get('email')?.errors }"
              placeholder="Correo Electrónico">
            <div *ngIf="submitted && loginForm.get('email')?.errors" class="invalid-feedback">
              <div *ngIf="loginForm.get('email')?.hasError('required')">Correo Electronico es requerido</div>
              <div *ngIf="loginForm.get('email')?.hasError('email')">Correo Electronico no es válido</div>
            </div>
          </div>

          <!-- Campo Teléfono -->
          <div class="form-group">
            <label class="form-label" for="login-telefono">Telefono Celular</label>
            <input type="tel" formControlName="telefono" class="form-control"
              [ngClass]="{ 'is-invalid': submitted && loginForm.get('telefono')?.errors }"
              placeholder="Número de Teléfono">
            <div *ngIf="submitted && loginForm.get('telefono')?.errors" class="invalid-feedback">
              <div *ngIf="loginForm.get('telefono')?.hasError('required')">Telefono es requerido</div>
              <div *ngIf="loginForm.get('telefono')?.hasError('pattern')">Debe comenzar con 04 y tener 11 dígitos</div>
            </div>
          </div>

          <!-- Campo Contraseña -->
          <div class="form-group">
            <label class="form-label" for="login-clave">Contraseña</label>
            <div class="input-group input-group-merge form-clave-toggle">
              <input [type]="passwordTextType ? 'text' : 'password'" formControlName="clave" name="clave"
                class="form-control form-control-merge"
                [ngClass]="{ 'is-invalid': submitted && loginForm.get('clave')?.errors }" placeholder="············">
              <div class="input-group-append">
                <span class="input-group-text cursor-pointer">
                  <i class="feather font-small-4"
                    [ngClass]="{'icon-eye-off': passwordTextType, 'icon-eye': !passwordTextType}"
                    (click)="togglePasswordTextType()"></i>
                </span>
              </div>
            </div>
           <div *ngIf="submitted && loginForm.get('clave')?.errors" class="invalid-feedback">
              <div *ngIf="loginForm.get('clave')?.hasError('required')">Contraseña es requerida</div>
              <div *ngIf="loginForm.get('clave')?.hasError('minlength')">Mínimo 8 caracteres</div>
              <div *ngIf="loginForm.get('clave')?.hasError('pattern')">
                Debe contener mayúsculas, minúsculas, números y caracteres especiales
              </div>
            </div>
          </div>

          <!-- Botones -->
          <div class="row">
            <div class="col-md-6 col-12">
              <div class="form-group">
                <button [disabled]="loading" (click)="onSubmit()" class="btn btn-success btn-block" tabindex="4">
                  <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>Registrarme
                </button>
              </div>
            </div>
            <div class="col-md-6 col-12">
              <div class="form-group">
                <a class="btn btn-warning btn-block" routerLink="/"><span>&nbsp;Ingresar</span></a>
              </div>
            </div>
          </div>
        </form>


        <app-footer></app-footer>
      </div>
    </div>
  </div>
</div>